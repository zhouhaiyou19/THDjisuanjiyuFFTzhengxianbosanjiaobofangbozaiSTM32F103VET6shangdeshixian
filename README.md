# THD计算基于FFT: 正弦波、三角波、方波在STM32F103VET6上的实现

## 项目简介

本资源提供了一个基于STM32F103VET6微控制器的简单频谱分析方案，用于计算正弦波、三角波和方波信号的总谐波失真（Total Harmonic Distortion, THD）。通过采用1024点的快速傅里叶变换（FFT），本项目旨在演示如何在嵌入式系统中进行基本的信号处理。需要注意的是，由于频率分析时没有应用插值法，因此结果会存在一定的误差。

## 技术细节

- **硬件平台**: STM32F103VET6 (Cortex-M3内核)
- **核心功能**: 
    - 使用片上ADC对模拟信号进行采样。
        - 通过DAC生成正弦波、三角波和方波信号。
            - 应用FFT算法对采集的信号进行频谱分析。
                - 计算并输出各波形的THD值。
                - **软件特性**:
                    - 程序设计支持通过串口通信与上位机交互，用户需注释或启用相关代码以适应不同的使用场景。
                        - THD计算可在轮询模式下独立运行，无需外部触发，提供了灵活的应用方式。
                            - 含有详细注释，方便理解与二次开发。

                            ## 注意事项

                            - 为了准确评估THD，确保模拟信号的纯净度和稳定的频率与幅值。
                            - 谐波分析精度受限于FFT点数和未实施的插值技术，高精度应用可能需要更高级的数据处理策略。
                            - 上位机支持不是必需项，但提供了一种查看和控制计算结果的便利方式，具体配置和协议请参考代码中的说明。

                            ## 开发环境与使用指南

                            - **开发环境**: Keil uVision 或者其他STM32兼容IDE。
                            - **快速启动**:
                                1. 下载本资源包。
                                    2. 在IDE中导入工程，并配置合适的编译设置。
                                        3. 根据需求调整串口通信配置（如果使用）。
                                            4. 编译并烧录至STM32F103VET6目标板。
                                                5. 可选：通过串口工具连接设备，接收THD数据或进行控制。

                                                ## 结论

                                                此项目是学习和实践嵌入式系统中数字信号处理的理想案例，特别是对于那些对FFT、THD以及STM32系列MCU感兴趣的开发者。通过实际操作，用户不仅能够掌握基础的信号分析技能，还能深入了解STM32的高级应用。请注意，实验过程中适度调整和优化代码，以适应不同应用场景下的性能要求。

                                                ## 下载链接
                                                [THD计算基于FFT正弦波三角波方波在STM32F103VET6上的实现](https://pan.quark.cn/s/e8399133cd31) 

                                                (备用: [备用下载](https://pan.baidu.com/s/11OjcPiTp0juTl5_e4CEmbw?pwd=1234))

                                                ## 说明

                                                该仓库仅用于学习交流，请勿用于商业用途。
